<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Özel Güvenlik Sınav Sistemi | Pro Edition</title>
    <meta name="description" content="Özel Güvenlik Sınavı Hazırlık Platformu - Silahlı ve Silahsız Deneme Sınavları">
    <meta name="author" content="Kerim Bayraktar">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* * --------------------------------------------------------------------------
         * GLOBAL CSS DEĞİŞKENLERİ VE SIFIRLAMA
         * --------------------------------------------------------------------------
         */
        :root {
            --primary: #1a202c;       /* Koyu Lacivert */
            --secondary: #2d3748;     /* Gri Ton */
            --accent: #3182ce;        /* Profesyonel Mavi */
            --accent-hover: #2c5282;
            --success: #38a169;       /* Onay Yeşili */
            --error: #e53e3e;         /* Hata Kırmızısı */
            --warning: #d69e2e;       /* Uyarı Sarısı */
            --bg-body: #f7fafc;       /* Açık Arkaplan */
            --bg-card: #ffffff;
            --text-main: #2d3748;
            --text-light: #718096;
            --border-radius: 12px;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* * --------------------------------------------------------------------------
         * HEADER VE TICKER (KAYAN BANT) STİLLERİ
         * --------------------------------------------------------------------------
         */
        header {
            background: var(--primary);
            color: white;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: var(--shadow-lg);
        }

        .ticker-wrapper {
            width: 100%;
            height: 44px;
            background: linear-gradient(90deg, #1a202c 0%, #2d3748 50%, #1a202c 100%);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            overflow: hidden;
            display: flex;
            align-items: center;
        }

        .ticker-content {
            display: flex;
            animation: scroll 45s linear infinite; /* Hızı buradan ayarlayabilirsin */
            white-space: nowrap;
        }

        .ticker-item {
            padding: 0 2rem;
            font-weight: 600;
            font-size: 0.9rem;
            color: #cbd5e0;
            display: flex;
            align-items: center;
            border-right: 1px solid rgba(255,255,255,0.1);
        }

        .ticker-item i {
            margin-right: 8px;
            color: var(--accent);
            font-size: 0.7rem;
        }

        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        /* * --------------------------------------------------------------------------
         * ANA MAIN CONTAINER
         * --------------------------------------------------------------------------
         */
        main {
            flex: 1;
            margin-top: 80px; /* Header yüksekliği kadar boşluk */
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .app-container {
            width: 100%;
            max-width: 900px;
            background: var(--bg-card);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            position: relative;
            min-height: 600px;
            display: flex;
            flex-direction: column;
        }

        /* * --------------------------------------------------------------------------
         * EKRAN YÖNETİMİ (GİRİŞ, SINAV, SONUÇ)
         * --------------------------------------------------------------------------
         */
        .screen {
            padding: 40px;
            display: none; /* Varsayılan olarak gizli */
            flex-direction: column;
            align-items: center;
            animation: fadeIn 0.5s ease-out;
            height: 100%;
        }

        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* GİRİŞ EKRANI */
        .welcome-hero {
            text-align: center;
            margin-bottom: 40px;
        }

        .welcome-hero h1 {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .welcome-hero p {
            color: var(--text-light);
            font-size: 1.1rem;
        }

        .exam-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
        }

        .selection-card {
            background: var(--bg-body);
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .selection-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: var(--shadow-sm);
        }

        .selection-card i {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 20px;
        }

        .selection-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .selection-card .details {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 20px;
        }

        .btn-start {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .btn-start:hover {
            background: var(--accent-hover);
        }

        /* SINAV EKRANI */
        #quiz-screen {
            align-items: stretch; /* Sola yaslı içerik */
            text-align: left;
            position: relative;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #edf2f7;
        }

        .timer-box {
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-family: 'Roboto Mono', monospace;
            font-weight: 700;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .question-meta {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-light);
        }

        .question-text {
            font-size: 1.35rem;
            font-weight: 600;
            margin-bottom: 30px;
            color: var(--primary);
            line-height: 1.5;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 15px 20px;
            border-radius: 10px;
            text-align: left;
            font-size: 1rem;
            color: var(--text-main);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            display: flex;
            align-items: flex-start;
        }

        .option-btn .opt-label {
            font-weight: 800;
            margin-right: 15px;
            min-width: 25px;
            color: var(--accent);
        }

        .option-btn:hover:not(.disabled) {
            border-color: var(--accent);
            background-color: #ebf8ff;
        }

        /* Doğru/Yanlış Durumları */
        .option-btn.correct {
            border-color: var(--success);
            background-color: #f0fff4;
            color: var(--success);
        }

        .option-btn.wrong {
            border-color: var(--error);
            background-color: #fff5f5;
            color: var(--error);
        }

        .option-btn.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* SONUÇ EKRANI */
        .result-icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }
        
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 10px solid var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .result-details {
            width: 100%;
            margin-top: 20px;
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e2e8f0;
        }

        /* * --------------------------------------------------------------------------
         * FOOTER
         * --------------------------------------------------------------------------
         */
        footer {
            background: var(--primary);
            color: #a0aec0;
            padding: 30px 20px;
            text-align: center;
            margin-top: auto;
            border-top: 5px solid var(--accent);
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .designer-badge {
            background: rgba(255,255,255,0.05);
            padding: 10px 25px;
            border-radius: 30px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .insta-btn {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
            text-decoration: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: opacity 0.3s;
        }

        .insta-btn:hover {
            opacity: 0.9;
        }

        /* * --------------------------------------------------------------------------
         * RESPONSIVE
         * --------------------------------------------------------------------------
         */
        @media (max-width: 768px) {
            .ticker-item { padding: 0 1rem; font-size: 0.8rem; }
            .screen { padding: 20px; }
            .welcome-hero h1 { font-size: 1.8rem; }
            .question-text { font-size: 1.1rem; }
            .timer-box { font-size: 1rem; }
        }

    </style>
</head>
<body>

    <header>
        <div class="ticker-wrapper">
            <div class="ticker-content">
                </div>
        </div>
    </header>

    <main>
        <div class="app-container">
            
            <div id="start-screen" class="screen active">
                <div class="welcome-hero">
                    <i class="fas fa-shield-alt" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                    <h1>ÖGG SINAV SİSTEMİ</h1>
                    <p>Lütfen girmek istediğiniz sınav türünü seçiniz.</p>
                </div>

                <div class="exam-cards">
                    <div class="selection-card" onclick="examSystem.startExam('weapon')">
                        <i class="fas fa-bullseye"></i>
                        <h3>SİLAHLI SINAV</h3>
                        <div class="details">
                            <p><i class="fas fa-list-ol"></i> 100 Temel + 25 Silah</p>
                            <p><i class="fas fa-clock"></i> 120 Dakika</p>
                        </div>
                        <button class="btn-start">Sınava Başla</button>
                    </div>

                    <div class="selection-card" onclick="examSystem.startExam('basic')">
                        <i class="fas fa-user-shield"></i>
                        <h3>SİLAHSIZ SINAV</h3>
                        <div class="details">
                            <p><i class="fas fa-list-ol"></i> 100 Temel Soru</p>
                            <p><i class="fas fa-clock"></i> 120 Dakika</p>
                        </div>
                        <button class="btn-start" style="background: var(--secondary);">Sınava Başla</button>
                    </div>
                </div>
            </div>

            <div id="quiz-screen" class="screen">
                <div class="quiz-header">
                    <div class="question-meta">
                        <span id="current-q-num">1</span> / <span id="total-q-num">100</span>
                    </div>
                    <div class="timer-box">
                        <i class="far fa-clock"></i>
                        <span id="timer-display">120:00</span>
                    </div>
                </div>

                <div id="question-container">
                    <h2 class="question-text" id="q-text">Soru Yükleniyor...</h2>
                    <div class="options-list" id="opt-list">
                        </div>
                </div>

                <div style="margin-top: auto; padding-top: 20px; display: flex; justify-content: flex-end;">
                    <button class="btn-start" id="next-btn" style="width: auto; padding-left: 40px; padding-right: 40px;" disabled onclick="examSystem.nextQuestion()">
                        Sonraki Soru <i class="fas fa-arrow-right" style="margin-left: 8px;"></i>
                    </button>
                </div>
            </div>

            <div id="result-screen" class="screen">
                <div id="result-icon-container"></div>
                <h1 id="result-title">Sınav Tamamlandı</h1>
                
                <div class="score-circle">
                    <span id="final-score">0</span>
                </div>

                <div class="result-details">
                    <div class="result-row">
                        <span>Doğru Sayısı:</span>
                        <strong id="r-correct" style="color: var(--success)">0</strong>
                    </div>
                    <div class="result-row">
                        <span>Yanlış Sayısı:</span>
                        <strong id="r-wrong" style="color: var(--error)">0</strong>
                    </div>
                    <div class="result-row">
                        <span>Boş Sayısı:</span>
                        <strong id="r-empty">0</strong>
                    </div>
                    <div class="result-row" style="border:none;">
                        <span>Başarı Durumu:</span>
                        <strong id="r-status">Hesaplanıyor...</strong>
                    </div>
                </div>

                <button class="btn-start" style="margin-top: 30px;" onclick="location.reload()">
                    <i class="fas fa-redo"></i> Yeni Sınav
                </button>
            </div>

        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="designer-badge">
                <i class="fas fa-code"></i>
                <span>Site Tasarımı: <b>Kerim Bayraktar</b></span>
            </div>
            
            <a href="https://www.instagram.com/kerimm.b" target="_blank" class="insta-btn">
                <i class="fab fa-instagram"></i>
                kerimm.b
            </a>
            
            <p style="font-size: 0.8rem; margin-top: 10px;">
                © 2024 Özel Güvenlik Eğitim Sistemi. Tüm Hakları Saklıdır.
            </p>
        </div>
    </footer>

    <script>
        /**
         * SORU BANKASI (VERİTABANI)
         * Bu bölümü istediğiniz kadar çoğaltarak 2000 satıra ulaşabilirsiniz.
         * Type: 'basic' (Temel) veya 'weapon' (Silah)
         */
        const QUESTION_BANK = [
            // --- TEMEL SORULAR (BASIC) ---
            {
                id: 1, type: 'basic',
                text: "5188 sayılı Özel Güvenlik Hizmetlerine Dair Kanun'a göre, özel güvenlik görevlisi kimlik kartını başkasına kullandıran görevliye ne ceza verilir?",
                options: ["Hapis cezası", "İdari para cezası ve kimlik kartının iptali", "Sadece uyarı", "Maaş kesintisi", "Yer değişikliği"],
                correct: 1
            },
            {
                id: 2, type: 'basic',
                text: "Yangın söndürme cihazlarının kullanımı sırasında, rüzgarın durumu nasıl olmalıdır?",
                options: ["Rüzgar arkaya alınmalıdır", "Rüzgar karşıya alınmalıdır", "Rüzgar sağa alınmalıdır", "Rüzgar sola alınmalıdır", "Fark etmez"],
                correct: 0
            },
            {
                id: 3, type: 'basic',
                text: "Temel yaşam desteği (CPR) yetişkinlerde dakikada kaç bası olacak şekilde uygulanır?",
                options: ["60-80", "80-100", "100-120", "120-140", "50-60"],
                correct: 2
            },
            {
                id: 4, type: 'basic',
                text: "X-ray cihazları hangi amaçla kullanılır?",
                options: ["Kişilerin üst aramasında", "Paket ve bagajların içinin görüntülenmesinde", "Kimlik tespiti yapmakta", "Patlayıcı kokusu almakta", "Ses kaydı yapmakta"],
                correct: 1
            },
            {
                id: 5, type: 'basic',
                text: "Aşağıdakilerden hangisi biyolojik delildir?",
                options: ["Kovan", "Parmak izi", "Kan", "Ayak izi", "Lastik izi"],
                correct: 2
            },
            {
                id: 6, type: 'basic',
                text: "Özel güvenlik görevlileri görev alanında bir suçla karşılaştıklarında ne yapmalıdır?",
                options: ["Suçu görmezden gelmeli", "Suç delillerini yok etmeli", "Olay yerini korumalı ve genel kolluğa haber vermeli", "Sadece amirine haber vermeli", "Olay yerinden uzaklaşmalı"],
                correct: 2
            },
            {
                id: 7, type: 'basic',
                text: "Aşağıdakilerden hangisi devriye yöntemlerinden biri değildir?",
                options: ["Olağan devriye", "Dairesel devriye", "Geri dönüşlü devriye", "Planlı devriye", "Sabit devriye"],
                correct: 4
            },
            {
                id: 8, type: 'basic',
                text: "Kalabalık yönetiminde 'çember düzeni' hangi amaçla kullanılır?",
                options: ["Bir şahsı korumak veya grubu kontrol altına almak", "Topluluğu dağıtmak", "Yol açmak", "Saldırı düzenlemek", "Kaçmak"],
                correct: 0
            },
            {
                id: 9, type: 'basic',
                text: "İl özel güvenlik komisyonu başkanı kimdir?",
                options: ["İl Emniyet Müdürü", "Vali Yardımcısı", "Belediye Başkanı", "Jandarma Komutanı", "Cumhuriyet Başsavcısı"],
                correct: 1
            },
            {
                id: 10, type: 'basic',
                text: "Özel güvenlik görevlilerinin yetkileri, hangi kanunla belirlenmiştir?",
                options: ["2559 Sayılı Kanun", "5188 Sayılı Kanun", "4857 Sayılı Kanun", "5237 Sayılı Kanun", "6136 Sayılı Kanun"],
                correct: 1
            },
            {
                id: 11, type: 'basic',
                text: "Görev alanında buluntu eşya ile karşılaşan özel güvenlik görevlisi ne yapmalıdır?",
                options: ["Eşyayı sahibine vermeli", "Tutanakla teslim alıp muhafaza etmeli", "Çöpe atmalı", "Kendisi kullanmalı", "Görmezden gelmeli"],
                correct: 1
            },
            {
                id: 12, type: 'basic',
                text: "Şok pozisyonunda ayaklar yerden ne kadar yukarı kaldırılır?",
                options: ["10 cm", "20 cm", "30 cm", "50 cm", "1 metre"],
                correct: 2
            },
            {
                id: 13, type: 'basic',
                text: "Aşağıdakilerden hangisi yangın sınıflandırmasında 'B Sınıfı' yangınlara örnektir?",
                options: ["Kağıt yangınları", "Benzin, mazot yangınları", "Gaz yangınları", "Metal yangınları", "Elektrik yangınları"],
                correct: 1
            },
            {
                id: 14, type: 'basic',
                text: "Telsiz konuşmalarında anlaşılmayan kelimeler için ne kullanılır?",
                options: ["Bağırmak", "Tekrar etmek", "Fonetik alfabe ile kodlama", "Hızlı konuşmak", "Başka dile geçmek"],
                correct: 2
            },
            {
                id: 15, type: 'basic',
                text: "Zor kullanma yetkisinin en son aşaması nedir?",
                options: ["Bedeni kuvvet", "Maddi güç", "Silah kullanma", "Sözlü uyarı", "Kelepçe takma"],
                correct: 2
            },
            
            // ... BURAYA 1000 TANE DAHA TEMEL SORU EKLEYEBİLİRSİNİZ ...
            
            // --- SİLAH BİLGİSİ SORULARI (WEAPON) ---
            {
                id: 101, type: 'weapon',
                text: "Aşağıdakilerden hangisi silahın ana parçalarından biri değildir?",
                options: ["Namlu", "Sürgü", "Çerçeve (Gövde)", "Horoz", "Harbi"],
                correct: 4
            },
            {
                id: 102, type: 'weapon',
                text: "Fişeğin ateşlenmesi için darbeyi kapsüle ileten parçaya ne ad verilir?",
                options: ["Tırnak", "İğne", "Gez", "Arpacık", "Şarjör"],
                correct: 1
            },
            {
                id: 103, type: 'weapon',
                text: "Atış sırasında 'Gez ve arpacık net, hedef bulanık' görülüyorsa bu duruma ne denir?",
                options: ["Hatalı nişan", "Doğru nişan", "Nefes kontrolü", "Tetik ezme", "Kabza kavrama"],
                correct: 1
            },
            {
                id: 104, type: 'weapon',
                text: "Tabancada şarjörün yuvası neresidir?",
                options: ["Namlu", "Sürgü", "Kabza (Gövde)", "Horoz", "Tetik"],
                correct: 2
            },
            {
                id: 105, type: 'weapon',
                text: "Kovan atma tertibatı nelerden oluşur?",
                options: ["Tırnak ve Çıkarıcı", "Gez ve Arpacık", "Tetik ve Horoz", "Namlu ve Yiv", "Şarjör ve Yay"],
                correct: 0
            },
            {
                id: 106, type: 'weapon',
                text: "Yiv ve setin çekirdek üzerinde bıraktığı izlere ne ad verilir?",
                options: ["Rayyür", "Hatve", "Çap", "Kovan", "Barut izi"],
                correct: 0
            },
            {
                id: 107, type: 'weapon',
                text: "Aşağıdakilerden hangisi fişeği oluşturan parçalardan değildir?",
                options: ["Kovan", "Kapsül", "Barut", "Çekirdek", "Namlu"],
                correct: 4
            },
            {
                id: 108, type: 'weapon',
                text: "Silah temizliğinde kullanılan yağa ne ad verilir?",
                options: ["Motor yağı", "Zeytinyağı", "Silah yağı", "Gres yağı", "Hidrolik yağ"],
                correct: 2
            },
            {
                id: 109, type: 'weapon',
                text: "6136 sayılı kanun ne hakkındadır?",
                options: ["Özel Güvenlik", "Ateşli Silahlar ve Bıçaklar", "Polis Vazife ve Salahiyet", "İş Kanunu", "Trafik Kanunu"],
                correct: 1
            },
            {
                id: 110, type: 'weapon',
                text: "Tetiği çektiğimizde horozun düşmesini engelleyen emniyet sistemi hangisidir?",
                options: ["Şarjör emniyeti", "Kabza emniyeti", "Mandal emniyeti", "İğne emniyeti", "Horoz emniyeti"],
                correct: 2
            }
            // ... BURAYA DAHA FAZLA SİLAH SORUSU EKLENEBİLİR ...
        ];

        /*
         * --------------------------------------------------------------------------
         * EXAM SYSTEM ENGINE (SINAV MOTORU)
         * --------------------------------------------------------------------------
         */
        class ExamSystem {
            constructor() {
                // Konfigürasyon
                this.names = [
                    "ABDUL SAMET", "FURKAN UÇAR", "TUĞBA SUDEM", "İZNİKLİ GÜVENLİK", 
                    "MELİH SAK", "MELİH ÖZAY", "MUHAMMED KONUS", "RAZİYE KAVRAMAK", 
                    "BAŞKOM NURULLAH", "YAKIŞIKLI GÜVENLİK OKAN", "AHMET CAN ÇEVİK", 
                    "BARAN", "BERİL KAYA", "CELAL SAHAN", "EMİN", "EMRE", "ETO", 
                    "HATİCE", "İSMAİL", "RABİA", "SERHAT OLGUN", "SİNAN", "YAĞMUR"
                ];
                
                // Durum Değişkenleri
                this.examMode = null; // 'basic' or 'weapon'
                this.questions = [];
                this.currentIndex = 0;
                this.score = 0;
                this.timer = 120 * 60; // 120 dakika (saniye)
                this.interval = null;
                this.answers = { correct: 0, wrong: 0, empty: 0 };

                // Başlat
                this.initTicker();
            }

            // Kayan Yazı Başlatıcı
            initTicker() {
                const tickerContent = document.querySelector('.ticker-content');
                // Sonsuz döngü hissi için listeyi 3 kez kopyalıyoruz
                const fullList = [...this.names, "VE DİĞERLERİ...", ...this.names, ...this.names];
                
                fullList.forEach(name => {
                    const item = document.createElement('div');
                    item.className = 'ticker-item';
                    item.innerHTML = `<i class="fas fa-circle"></i> ${name}`;
                    tickerContent.appendChild(item);
                });
            }

            // Array Karıştırıcı (Fisher-Yates)
            shuffle(array) {
                let currentIndex = array.length, randomIndex;
                while (currentIndex != 0) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex--;
                    [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
                }
                return array;
            }

            // Sınavı Başlat
            startExam(mode) {
                this.examMode = mode;
                
                // Soru Havuzunu Hazırla
                let basicQs = QUESTION_BANK.filter(q => q.type === 'basic');
                let weaponQs = QUESTION_BANK.filter(q => q.type === 'weapon');
                
                // Soruları Karıştır
                basicQs = this.shuffle(basicQs);
                weaponQs = this.shuffle(weaponQs);

                // Moduna Göre Soru Seç
                if (mode === 'basic') {
                    // Sadece Temel (100 Soru veya havuz kadar)
                    this.questions = basicQs.slice(0, 100); 
                } else {
                    // Silahlı (100 Temel + 25 Silah)
                    const selectedBasic = basicQs.slice(0, 100);
                    const selectedWeapon = weaponQs.slice(0, 25);
                    this.questions = [...selectedBasic, ...selectedWeapon];
                }

                // Eğer yeterli soru yoksa eldekilerle devam et (Demo modu için)
                if (this.questions.length === 0) {
                    alert("Soru havuzunda yeterli soru yok! Lütfen script kısmına soru ekleyin.");
                    return;
                }

                // Ekran Geçişi
                document.getElementById('start-screen').classList.remove('active');
                document.getElementById('quiz-screen').classList.add('active');

                // Sıfırla
                this.currentIndex = 0;
                this.score = 0;
                this.answers = { correct: 0, wrong: 0, empty: 0 };
                
                // Toplam soruyu güncelle
                document.getElementById('total-q-num').innerText = this.questions.length;

                this.renderQuestion();
                this.startTimer();
            }

            // Soruyu Ekrana Bas
            renderQuestion() {
                const q = this.questions[this.currentIndex];
                document.getElementById('current-q-num').innerText = this.currentIndex + 1;
                document.getElementById('q-text').innerText = q.text;
                
                const optList = document.getElementById('opt-list');
                optList.innerHTML = ''; // Temizle
                
                const labels = ['A', 'B', 'C', 'D', 'E'];

                q.options.forEach((optText, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<span class="opt-label">${labels[idx]})</span> ${optText}`;
                    btn.onclick = () => this.checkAnswer(btn, idx, q.correct);
                    optList.appendChild(btn);
                });

                document.getElementById('next-btn').disabled = true;
            }

            // Cevap Kontrolü
            checkAnswer(btnElement, selectedIdx, correctIdx) {
                const allOpts = document.querySelectorAll('.option-btn');
                
                // Tıklamayı engelle
                allOpts.forEach(btn => btn.classList.add('disabled'));
                allOpts.forEach(btn => btn.onclick = null);

                if (selectedIdx === correctIdx) {
                    // Doğru
                    btnElement.classList.add('correct');
                    this.score++; // Ham puan (basit hesap)
                    this.answers.correct++;
                } else {
                    // Yanlış
                    btnElement.classList.add('wrong');
                    // Doğruyu göster
                    allOpts[correctIdx].classList.add('correct');
                    this.answers.wrong++;
                }

                document.getElementById('next-btn').disabled = false;
            }

            // Sonraki Soru
            nextQuestion() {
                this.currentIndex++;
                if (this.currentIndex < this.questions.length) {
                    // Animasyonlu geçiş efekti (isteğe bağlı)
                    this.renderQuestion();
                } else {
                    this.finishExam();
                }
            }

            // Sayaç
            startTimer() {
                const display = document.getElementById('timer-display');
                this.interval = setInterval(() => {
                    this.timer--;
                    
                    const min = Math.floor(this.timer / 60);
                    const sec = this.timer % 60;
                    
                    display.innerText = `${min < 10 ? '0'+min : min}:${sec < 10 ? '0'+sec : sec}`;

                    if (this.timer <= 0) {
                        this.finishExam();
                    }
                }, 1000);
            }

            // Sınav Bitişi
            finishExam() {
                clearInterval(this.interval);
                document.getElementById('quiz-screen').classList.remove('active');
                document.getElementById('result-screen').classList.add('active');

                // Puan Hesaplama (Basit: 100 üzerinden yüzde)
                // Gerçek ÖGG puanlaması: Temel sorular 1 puan, Silah soruları 2 puan vs. olabilir.
                // Burada basit yüzdelik hesaplıyoruz.
                const totalQ = this.questions.length;
                const finalScore = (this.score / totalQ) * 100;
                
                this.answers.empty = totalQ - (this.answers.correct + this.answers.wrong);

                // UI Güncelleme
                document.getElementById('final-score').innerText = Math.round(finalScore);
                document.getElementById('r-correct').innerText = this.answers.correct;
                document.getElementById('r-wrong').innerText = this.answers.wrong;
                document.getElementById('r-empty').innerText = this.answers.empty;

                const statusEl = document.getElementById('r-status');
                const iconContainer = document.getElementById('result-icon-container');

                if (finalScore >= 60) {
                    statusEl.innerText = "BAŞARILI";
                    statusEl.style.color = "var(--success)";
                    iconContainer.innerHTML = '<i class="fas fa-trophy result-icon" style="color: #ecc94b;"></i>';
                    document.getElementById('result-title').innerText = "Tebrikler!";
                } else {
                    statusEl.innerText = "BAŞARISIZ";
                    statusEl.style.color = "var(--error)";
                    iconContainer.innerHTML = '<i class="fas fa-times-circle result-icon" style="color: var(--error);"></i>';
                    document.getElementById('result-title').innerText = "Maalesef...";
                }
            }
        }

        // Uygulamayı Başlat
        const examSystem = new ExamSystem();

    </script>
</body>
</html>
